---
alwaysApply: true
---
# Cursor AI ルール

## 言語設定

**日本語での回答**

- すべての回答は日本語で行うこと
- コードコメントも日本語で記述すること
- ドキュメントやREADMEも日本語で作成すること
- コミットメッセージも日本語で記述すること（ただし、プレフィックスは英語でも可）

## プロジェクト固有のルール

### Flutterプロジェクト

- このプロジェクトはFlutter 3.38.1を使用しています
- クリーンアーキテクチャを採用しています（Domain/Data/Presentation）
- パッケージ構成：`app`（メインアプリ）、`packages/core`（共通機能）、`packages/feature`（機能別パッケージ）

### Firebase統合

- Firebase Authentication（認証）
- Cloud Firestore（データベース）
- Cloud Functions（サーバーレス関数）
- Cloud Storage（ファイルストレージ）
- Remote Config（リモート設定）
- App Check（セキュリティ）
- Firebase AI（Gemini API）を使用した俳句生成機能

### コーディング規約

- Dartの公式スタイルガイドに従うこと
- `analysis_options.yaml`の設定を遵守すること
- 各レイヤー間の依存関係を適切に管理すること
- テストコードも必要に応じて記述すること

## アーキテクチャガイドライン

### Domain層

- ビジネスロジックとエンティティを定義
- 他の層に依存しない
- リポジトリインターフェースを定義

### Data層

- リポジトリの実装
- データソース（API、ローカルDB）の実装
- DTOとエンティティの変換

### Presentation層

- UI（Widget）
- 状態管理（Riverpod推奨）
- ViewModelまたはController

### 依存関係のルール

- Domain層: 他のいかなる層にも依存しない
- Data層: Domain層のみに依存
- Presentation層: DomainとData層に依存可能
- 依存性注入を使用してテスタビリティを確保
